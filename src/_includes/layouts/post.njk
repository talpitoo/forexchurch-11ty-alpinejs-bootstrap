<!doctype html>
<html lang="en" class="TODO-scroll-smooth" x-data="{ isTopNavbarOpen: false }" :class="{'overflow-hidden': isTopNavbarOpen}">
    <head>
        {% include "../components/meta.njk" %}
    </head>
    <body>

        {% include "../components/navigation.njk" %}

        <main>
            <section class='py-section-sm bg-dark text-light'>
                <div class='forexchurch-container'>
                    <div class="forexchurch-grid">
                        <div class="forexchurch-col-2">
                            <figure class="mb-spacer-3" data-forexchurch-show-in-modal="true">
                                {# NOTE: keeping for the default syntax <div class="h-spacer-{{ coverPhoto.height | default('14') }} bg-success mb-spacer-1"> #}
                                <div class="h-spacer-21 {% if coverPhoto.figureBackgroundColor is defined and coverPhoto.figureBackgroundColor !== '' %}{{ coverPhoto.figureBackgroundColor }}{% else %}bg-light{% endif %} {{ figureBackgroundColor }}">
                                    {# NOTE: example of setting an dynamic pictureObject before including components/picture-example.njk #}
                                    {% set pictureObject = coverPhoto %}
                                    {% include "components/picture-example.njk" %}
                                </div>

                                {# NOTE: optional caption #}
                                {% if coverPhoto.figcaption is defined and coverPhoto.figcaption !== '' %}
                                    <figcaption class="mt-spacer-1">{{ coverPhoto.figcaption }}</figcaption>
                                {% endif %}
                            </figure>
                        </div>
                        <div class="forexchurch-col-4">
                            <h1>{{ title }}</h1>

                            {{ content | safe }}

                            {# NOTE: categories, the last <li> being the date #}
                            <ul class="list-separator-dot text-muted whitespace-nowrap">
                                {% for category in categories %}
                                    <li class="uppercase">{{ category }}</li>
                                {% endfor %}
                                {# <li>{{ date.toDateString().slice(4) }}</li> #}
                            </ul>

                            {# NOTE: the price will be shown if exists/defined in the post's meta data #}
                            {% if price is defined and price !== '' %}
                                <p class="h3">{{ price }}</p>
                            {% endif %}
                        </div>
                    </div>
                </div>
            </section>
        </main>

        {% include "../components/footer.njk" %}

        {# NOTE: modals at the very end so their z-index is above everything else #}
        {# {% include "components/modals/modal-gallery.njk" %} #}

        {# NOTE: optional example in case importing in main.js does not work 
    <script src="https://cdnjs.cloudflare.com/ajax/libs/flowbite/1.6.6/flowbite.min.js"></script>
    <script src="https://unpkg.co/gsap@3/dist/gsap.min.js" defer></script>
    <script src="https://unpkg.com/gsap@3/dist/ScrollTrigger.min.js" defer></script> #}

        <!-- Bootstrap Sass & ESM JS example https://getbootstrap.com/docs/5.3/examples/, https://github.com/twbs/examples/tree/main/sass-js-esm -->
        {# <script async src="https://ga.jspm.io/npm:es-module-shims@1.5.5/dist/es-module-shims.js"></script>
    <script type="importmap">
    {
    "imports": {
        "@popperjs/core": "https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/esm/popper.js",
        "bootstrap": "https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.esm.min.js"
    }
    }
    </script>
    <script type="module">
    import * as bootstrap from 'bootstrap'
    document.querySelectorAll('[data-bs-toggle="popover"]')
        .forEach(popover => {
        new bootstrap.Popover(popover)
        })
    </script>
    #}

        <script src="/js/main.js" defer></script>
    </body>
</html>